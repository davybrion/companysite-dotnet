<p>A question that also comes up occasionally is how you can use an Agatha service from a client which isn’t aware of Agatha? Or more specifically: can an Agatha service be used from a client which has generated a proxy based on the WSDL of the Agatha service? The answer is yes :)</p>  <p>First of all, make sure your service exposes its metadata.&#160; You do this in the usual WCF fashion:</p>  <div style="font-family: consolas; background: white; color: black; font-size: 10pt">   <p style="margin: 0px"><span style="color: blue">&#160;&#160;&#160; &lt;</span><span style="color: #a31515">behaviors</span><span style="color: blue">&gt;</span></p>    <p style="margin: 0px"><span style="color: blue">&#160;&#160;&#160;&#160;&#160; &lt;</span><span style="color: #a31515">serviceBehaviors</span><span style="color: blue">&gt;</span></p>    <p style="margin: 0px"><span style="color: blue">&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;</span><span style="color: #a31515">behavior</span><span style="color: blue"> </span><span style="color: red">name</span><span style="color: blue">=</span>&quot;<span style="color: blue">RequestProcessorBehavior</span>&quot;<span style="color: blue">&gt;</span></p>    <p style="margin: 0px"><span style="color: blue">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;</span><span style="color: #a31515">serviceMetadata</span><span style="color: blue"> </span><span style="color: red">httpGetEnabled</span><span style="color: blue">=</span>&quot;<span style="color: blue">true</span>&quot;<span style="color: blue">/&gt;</span></p>    <p style="margin: 0px"><span style="color: blue">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;</span><span style="color: #a31515">dataContractSerializer</span><span style="color: blue"> </span><span style="color: red">maxItemsInObjectGraph</span><span style="color: blue">=</span>&quot;<span style="color: blue">2147483647</span>&quot;<span style="color: blue">/&gt;</span></p>    <p style="margin: 0px"><span style="color: blue">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;</span><span style="color: #a31515">serviceThrottling</span><span style="color: blue"> </span><span style="color: red">maxConcurrentCalls</span><span style="color: blue">=</span>&quot;<span style="color: blue">500</span>&quot;<span style="color: blue"> </span><span style="color: red">maxConcurrentInstances</span><span style="color: blue">=</span>&quot;<span style="color: blue">500</span>&quot;<span style="color: blue">/&gt;</span></p>    <p style="margin: 0px"><span style="color: blue">&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;/</span><span style="color: #a31515">behavior</span><span style="color: blue">&gt;</span></p>    <p style="margin: 0px"><span style="color: blue">&#160;&#160;&#160;&#160;&#160; &lt;/</span><span style="color: #a31515">serviceBehaviors</span><span style="color: blue">&gt;</span></p>    <p style="margin: 0px"><span style="color: blue">&#160;&#160;&#160; &lt;/</span><span style="color: #a31515">behaviors</span><span style="color: blue">&gt;</span></p> </div>  <p>&#160;</p>  <p>The serviceMetadata element with the httpGetEnabled=”true” attribute is the important one in the snippet above.</p>  <p>After that, you can simply generate a service proxy through visual studio or svcutil or whatever:</p>  <p><a href="http://davybrion.com/pictures/ConsumingAnAgathaServiceFromANonAgathaAw_DF1A/add_service_reference.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="add_service_reference" border="0" alt="add_service_reference" src="http://davybrion.com/pictures/ConsumingAnAgathaServiceFromANonAgathaAw_DF1A/add_service_reference_thumb.png" width="635" height="510" /></a> </p>  <p>Now you can write the following code to communicate with your Agatha Service Layer:</p>  <div style="font-family: consolas; background: white; color: black; font-size: 10pt">   <p style="margin: 0px"><span style="color: blue">using</span> System;</p>    <p style="margin: 0px"><span style="color: blue">using</span> Sample.NonAgathaAwareClient.MyAgathaService;</p>    <p style="margin: 0px">&#160;</p>    <p style="margin: 0px"><span style="color: blue">namespace</span> Sample.NonAgathaAwareClient</p>    <p style="margin: 0px">{</p>    <p style="margin: 0px">&#160;&#160;&#160; <span style="color: blue">class</span> <span style="color: #2b91af">Program</span></p>    <p style="margin: 0px">&#160;&#160;&#160; {</p>    <p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">static</span> <span style="color: blue">void</span> Main(<span style="color: blue">string</span>[] args)</p>    <p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; {</p>    <p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">using</span> (<span style="color: blue">var</span> proxy = <span style="color: blue">new</span> MyAgathaService.<span style="color: #2b91af">WcfRequestProcessorClient</span>())</p>    <p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; {</p>    <p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">var</span> responses = proxy.ProcessRequests(<span style="color: blue">new</span>[] { <span style="color: blue">new</span> <span style="color: #2b91af">HelloWorldRequest</span>() });</p>    <p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">var</span> helloWorldResponse = (<span style="color: #2b91af">HelloWorldResponse</span>)responses[0];</p>    <p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: #2b91af">Console</span>.WriteLine(helloWorldResponse.Message);</p>    <p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: #2b91af">Console</span>.Read();</p>    <p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</p>    <p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</p>    <p style="margin: 0px">&#160;&#160;&#160; }</p>    <p style="margin: 0px">}</p>    <p style="margin: 0px">&#160;</p> </div>  <p style="margin: 0px">Notice that there are no Agatha-related using statements, nor is there any reference to Agatha or the assembly which contains the Request/Response types. All of the required data can be found within the WSDL and you can generate proxies for it just as you could with any other WCF service.&#160; The client-side usage model is of course as bad as it always is with standard WCF (for more information, be sure to read: <a href="http://davybrion.com/blog/2009/07/why-i-dislike-classic-or-typical-wcf-usage/" target="_blank">Why I Dislike Classic Or Typical WCF Usage</a>) but if you’re willing to put up with it, then at least you can ;)</p>  <p style="margin: 0px">&#160;</p>  <p style="margin: 0px">This also means that you should be able to generate service proxies for other platforms as well, as long as they support SOAP services.</p>